Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(e[t]);return n});var pEventData=new WeakMap;function ped(e){var t=pEventData.get(e);if(null==t)throw new Error("'this' is expected an Event object, but got "+e);return t}var GaiaXJSEvent=function(){function e(e){pEventData.set(this,e)}return Object.defineProperty(e.prototype,"templateId",{get:function(){return ped(this).templateId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return ped(this).instanceId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return ped(this).type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeStamp",{get:function(){return ped(this).timeStamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetId",{get:function(){return ped(this).targetId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetType",{get:function(){return ped(this).targetType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetSubType",{get:function(){return ped(this).targetSubType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return ped(this).offsetX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return ped(this).offsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return ped(this).userData},enumerable:!1,configurable:!0}),e}(),listenersMap=new WeakMap;function getListeners(e){var t=listenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var GaiaXJSEventTarget=function(){function e(e){for(var t in e)if(Object.hasOwnProperty.call(e,t)){var n=e[t];this["__"+t+"__"]=n}this.__style__=new Style(e),listenersMap.set(this,new Map)}return Object.defineProperty(e.prototype,"style",{get:function(){return this.__style__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetId",{get:function(){return this.__targetId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetType",{get:function(){return this.__targetType__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetSubType",{get:function(){return this.__targetSubType__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this.__templateId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return this.__instanceId__},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,n){var i=getListeners(this);null!=i.get(e)&&i.delete(e),NativeEvent.addEventListener({templateId:this.templateId,targetId:this.targetId,instanceId:this.instanceId,eventType:e,option:n}).then((function(){var n={listener:t,next:null};i.set(e,n)}))},e.prototype.removeEventListener=function(e,t){var n=this;NativeEvent.removeEventListener({templateId:this.templateId,targetId:this.targetId,instanceId:this.instanceId,eventType:e}).then((function(){getListeners(n).delete(e)}))},e.prototype.dispatchEvent=function(e){var t=getListeners(this),n=e.type,i=t.get(n);if(null==i)return!0;"function"==typeof i.listener&&i.listener.call(this,e)},e}(),cListenersMap=new WeakMap;function getCListeners(e){var t=cListenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var nativeListenersMap=new WeakMap;function getNativeListeners(e){var t=nativeListenersMap.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}var __Component__=function(){function e(e,t){if(this.__state__=e.state||{},this.__onReady__=e.onReady,this.__onShow__=e.onShow,this.__onHide__=e.onHide,this.__onDestroy__=e.onDestroy,this.__onReuse__=e.onReuse,this.__onLoadMore__=e.onLoadMore,this.__bizId__=t&&t.bizId,this.__templateId__=t&&t.templateId,this.__templateVersion__=t&&t.templateVersion||"-1",this.__instanceId__=t&&t.instanceId||0,e)for(var n in e){var i=e[n];"state"!=n&&"onReady"!=n&&"onShow"!=n&&"onHide"!=n&&"onDestroy"!=n&&"onReuse"!=n&&"onLoadMore"!=n&&(this[n]=i)}this.targets={},cListenersMap.set(this,new Map),nativeListenersMap.set(this,new Map)}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.__templateId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateVersion",{get:function(){return this.__templateVersion__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return gaiax.getComponentIndex({templateId:this.templateId,instanceId:this.instanceId})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceId",{get:function(){return this.__instanceId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bizId",{get:function(){return this.__bizId__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.__state__},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return gaiax.getData({templateId:this.templateId,instanceId:this.instanceId})},enumerable:!1,configurable:!0}),e.prototype.setData=function(e,t){gaiax.setData(e,{templateId:this.templateId,instanceId:this.instanceId},(function(){t&&t()}))},e.prototype.setState=function(e,t){if("object"==typeof e){var n=Object.assign(this.__state__,e||{})||{};this.__state__=n,setTimeout((function(){t&&t()}),0)}},e.prototype.onReuse=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onReuse"),this.__onReuse__&&this.__onReuse__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onReady=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onReady"),this.__onReady__&&this.__onReady__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onShow=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onShow"),this.__onShow__&&this.__onShow__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onHide=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onHide"),this.__onHide__&&this.__onHide__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onDestroy=function(){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onDestroy"),this.__onDestroy__&&this.__onDestroy__.call(this)}catch(e){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:e.message,stack:e.stack})}},e.prototype.onLoadMore=function(e){try{__globalThis&&__globalThis.__DEV__&&console.log("instanceId="+this.instanceId+", bizId="+this.bizId+", templateId="+this.templateId+", templateVersion="+this.templateVersion+" onLoadMore"),this.__onLoadMore__&&this.__onLoadMore__.call(this,e)}catch(t){console.error({templateId:this.templateId,templateVersion:this.templateVersion,bizId:this.bizId,message:t.message,stack:t.stack})}},e.prototype.getElementById=function(e){var t,n=NativeTarget.getElementByData({templateId:this.templateId,instanceId:this.instanceId,targetId:e});return null!=n&&(null==this.targets[this.instanceId+"_"+e]?(t=new GaiaXJSEventTarget({templateId:this.templateId,instanceId:this.instanceId,targetId:e,targetType:n.targetType,targetSubType:n.targetSubType}),this.targets[this.instanceId+"_"+e]=t):t=this.targets[this.instanceId+"_"+e]),t},e.prototype.dispatchEvent=function(e){if(null!=e)if(e.targetId){var t=e.targetId;e.targetId&&this.targets[this.instanceId+"_"+t]instanceof GaiaXJSEventTarget&&this.targets[this.instanceId+"_"+t].dispatchEvent(e)}else{var n=getCListeners(this),i=e.type,a=n.get(i);if(null==a)return!0;"function"==typeof a.listener&&a.listener.call(this,e)}},e.prototype.addEventListener=function(e,t,n){var i=getCListeners(this);null!=i.get(e)&&i.delete(e);var a={listener:t,next:null};i.set(e,a)},e.prototype.removeEventListener=function(e,t){getCListeners(this).delete(e)},e.prototype.refreshPage=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"page",params:e})},e.prototype.refreshCard=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"card",params:e})},e.prototype.refreshComponent=function(e){OneArch.refresh({templateId:this.templateId,instanceId:this.instanceId,type:"component",params:e})},e.prototype.dispatchNativeEvent=function(e){if(null!=e){var t=getNativeListeners(this),n=e.type,i=t.get(n);if(null==i)return!0;"function"==typeof i.listener&&i.listener.call(this,e)}},e.prototype.addNativeEventListener=function(e,t){if(NativeEvent.addNativeEventListener({templateId:this.templateId,instanceId:this.instanceId,contextId:__globalThis.__CONTEXT_ID__,type:e})){var n=getNativeListeners(this);null!=n.get(e)&&n.delete(e);var i={listener:t,next:null};n.set(e,i)}},e.prototype.removeNativeEventListener=function(e){NativeEvent.removeNativeEventListener({templateId:this.templateId,instanceId:this.instanceId,contextId:__globalThis.__CONTEXT_ID__,type:e})&&getNativeListeners(this).delete(e)},e}();function Component(e,t){e&&t&&"object"==typeof e&&"object"==typeof t&&IMs.insertComponent(new __Component__(e,t))}var GaiaXJSWindow=function(){function e(){}return e.prototype.dispatchEventInternal=function(e){var t=new GaiaXJSEvent(e);IMs.dispatchEvent(t)},e.prototype.postMessage=function(e,t){"string"==typeof e?this.dispatchEventInternal(Object.assign({type:e||""},{userData:t})):this.dispatchEventInternal(e)},e.prototype.postNativeMessage=function(e){var t=new GaiaXJSEvent(e);IMs.dispatchNativeEvent(t)},e}();1==__globalThis.__ENGINE_TYPE__&&(__globalThis.__successCallbacks=new Map,__globalThis.__failureCallbacks=new Map,__globalThis.__callbackId=0,__globalThis.__processCallbacks=function(e,t){return __globalThis.__successCallbacks.set(__globalThis.__callbackId,e),__globalThis.__failureCallbacks.set(__globalThis.__callbackId,t),__globalThis.__callbackId++});var Bridge=function(){function e(){}return e.callSync=function(e){if(null!=e&&e instanceof Object)return 1==__globalThis.__ENGINE_TYPE__?GaiaXBridge.callSync(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})):GaiaXBridge.callSync(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})))},e.callAsync=function(e,t){if(null!=e&&e instanceof Object)if(1==__globalThis.__ENGINE_TYPE__){var n=__globalThis.__processCallbacks&&__globalThis.__processCallbacks(t);GaiaXBridge.callAsync(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__,callbackId:n}))}else GaiaXBridge.callAsync(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__})),(function(e){t&&t(e)}))},e.callPromise=function(e){return new Promise((function(t,n){if(null!=e&&e instanceof Object)if(1==__globalThis.__ENGINE_TYPE__){var i=__globalThis.__processCallbacks&&__globalThis.__processCallbacks(t,n);GaiaXBridge.callPromise(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__,callbackId:i}))}else GaiaXBridge.callPromise(JSON.stringify(Object.assign({},e,{contextId:__globalThis.__CONTEXT_ID__}))).then((function(e){t(e)})).catch((function(e){n(e)}));else n(new Error("arguments is not valid"))}))},e.invokeCallback=function(e,t){if(1==__globalThis.__ENGINE_TYPE__&&null!=e){var n=__globalThis.__successCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e.invokePromiseSuccess=function(e,t){if(1==__globalThis.__ENGINE_TYPE__&&null!=e){var n=__globalThis.__successCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e.invokePromiseFailure=function(e,t){if(1==__globalThis.__ENGINE_TYPE__&&null!=e){var n=__globalThis.__failureCallbacks.get(e);n&&(n(t),__globalThis.__successCallbacks.delete(e),__globalThis.__failureCallbacks.delete(e))}},e}(),InstancesManager=function(){function e(){this.instanceMaps={}}return e.prototype.getAllComponents=function(){return Object.values(this.instanceMaps)},e.prototype.insertComponent=function(e){this.instanceMaps[e.instanceId]=e},e.prototype.getComponent=function(e){return this.instanceMaps[e]},e.prototype.removeComponent=function(e){delete this.instanceMaps[e]},e.prototype.dispatchNativeEvent=function(e){var t=IMs.getComponent(e.instanceId);try{t&&t.dispatchNativeEvent(e)}catch(n){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:n.message,stack:n.stack})}},e.prototype.dispatchEvent=function(e){if(e&&e instanceof GaiaXJSEvent)if(null!=e.instanceId&&null!=e.templateId){var t=IMs.getComponent(e.instanceId);try{t&&t.dispatchEvent(e)}catch(a){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:a.message,stack:a.stack})}}else{var n=IMs.getAllComponents();if(n)for(var i=0;i<n.length;i++){t=n[i];try{t&&t.dispatchEvent(e)}catch(a){console.error({templateId:t.templateId,templateVersion:t.templateVersion,bizId:t.bizId,message:a.message,stack:a.stack})}}}},e}(),__Console=function(){function e(){}return e.info=function(e){NativeLogger.info({data:e})},e.log=function(e){NativeLogger.log({data:e})},e.warn=function(e){NativeLogger.warn({data:e})},e.error=function(e){NativeLogger.error({data:e})},e}(),__Utils=function(){function e(){}return e.isNonNullObject=function(e){return!!e&&"object"==typeof e},e.isSpecial=function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t},e.isMergeableObject=function(t){return e.isNonNullObject(t)&&!e.isSpecial(t)},e.emptyTarget=function(e){return Array.isArray(e)?[]:{}},e.cloneUnlessOtherwiseSpecified=function(t,n){return!1!==n.clone&&n.isMergeableObject(t)?e.merge(e.emptyTarget(t),t,n):t},e.defaultArrayMerge=function(t,n,i){return t.concat(n).map((function(t){return e.cloneUnlessOtherwiseSpecified(t,i)}))},e.getMergeFunction=function(t,n){if(!n.customMerge)return e.merge;var i=n.customMerge(t);return"function"==typeof i?i:e.merge},e.getEnumerableOwnPropertySymbols=function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]},e.getKeys=function(t){return Object.keys(t).concat(e.getEnumerableOwnPropertySymbols(t))},e.propertyIsOnObject=function(e,t){try{return t in e}catch(n){return!1}},e.propertyIsUnsafe=function(t,n){return e.propertyIsOnObject(t,n)&&!(Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))},e.mergeObject=function(t,n,i){var a={};return i.isMergeableObject(t)&&e.getKeys(t).forEach((function(n){a[n]=e.cloneUnlessOtherwiseSpecified(t[n],i)})),e.getKeys(n).forEach((function(r){e.propertyIsUnsafe(t,r)||(e.propertyIsOnObject(t,r)&&i.isMergeableObject(n[r])?a[r]=e.getMergeFunction(r,i)(t[r],n[r],i):a[r]=e.cloneUnlessOtherwiseSpecified(n[r],i))})),a},e.merge=function(t,n,i){(i=i||{}).arrayMerge=i.arrayMerge||e.defaultArrayMerge,i.isMergeableObject=i.isMergeableObject||e.isMergeableObject,i.cloneUnlessOtherwiseSpecified=e.cloneUnlessOtherwiseSpecified;var a=Array.isArray(n);return a===Array.isArray(t)?a?i.arrayMerge(t,n,i):e.mergeObject(t,n,i):e.cloneUnlessOtherwiseSpecified(n,i)},e.mergeAll=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,i){return e.merge(t,i,n)}),{})},e.md5=function(e){if(e)return NativeUtil.md5(e)},e.urlEncode=function(e){if(e)return NativeUtil.urlEncode(e)},e.urlDecode=function(e){if(e)return NativeUtil.urlDecode(e)},e.base64Encode=function(e){if(e)return NativeUtil.base64Encode(e)},e.base64Decode=function(e){if(e)return NativeUtil.base64Decode(e)},e}();__globalThis.__VERSION__=1,__globalThis.Event=GaiaXJSEvent,__globalThis.EventTarget=GaiaXJSEventTarget,__globalThis.Component=Component,__globalThis.console=__Console,__globalThis.IMs=new InstancesManager,__globalThis.window=new GaiaXJSWindow,__globalThis.Utils=__Utils;