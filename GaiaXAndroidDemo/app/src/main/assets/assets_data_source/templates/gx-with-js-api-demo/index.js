//------ts start------
//UEsDBAoAAAAAAKZt+1ZBqS8w0B4AANAeAAAIAAAAaW5kZXguanNDb21wb25lbnQoewogIHN0YXRlOiB7fSwKICBvblNob3c6IGZ1bmN0aW9uICgpIHsKICAgIC8v5q+P5qyh5qih5p2/5pi+56S66YO95Lya5Zue6LCDCiAgfSwKICBvblJlYWR5OiBmdW5jdGlvbiAoKSB7CiAgICAvL+aooeadv+a4suafk+WujOaIkOWQjueahOWbnuiwgwogICAgdGhpcy5yZWdpc3RlclN0b3JhZ2VBUEkoKTsKICAgIHRoaXMucmVnaXN0ZXJUaXBzQVBJKCk7CiAgICB0aGlzLnJlZ2lzdGVyVGltZXJBUEkoKTsKICAgIC8vIHRoaXMucmVnaXN0ZXJDdXN0b21BUEkoKTsKICAgIHRoaXMucmVnaXN0ZXJNZXNzYWdlQVBJKCk7CiAgfSwKICBvbkhpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGNvbnNvbGUubG9nKCJqcy1hcGktZGVtbyBvbkhpZGVuIik7CiAgICAvL+avj+asoeaooeadv+makOiXj+mDveS8muWbnuiwgwogIH0sCiAgb25SZXVzZTogZnVuY3Rpb24gKCkgewogICAgLy/mqKHmnb/lpI3nlKjml7blm57osIMKICB9LAogIG9uRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2coImpzLWFwaS1kZW1vIG9uRGlzdG9yeSIpOwogICAgLy/mqKHmnb/lsIbopoHph4rmlL7nmoTlm57osIMKICB9LAogIHJlZ2lzdGVyTWVzc2FnZUFQSTogZnVuY3Rpb24gKCkgewogICAgbGV0IGFkZEV2ZW50QnRuID0gdGhpcy5nZXRFbGVtZW50QnlJZCgiYWRkRXZlbnRMaXN0ZW5lciIpOwogICAgaWYgKGFkZEV2ZW50QnRuKSB7CiAgICAgIGFkZEV2ZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coImFkZGVkIGxpc3RlbmVyIGZvciBvdGhlciB0ZW1wbGF0ZXMiKTsKICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIkN1c3RvbU5vdGlmaWNhdGlvbk5hbWVGb3JUZW1wbGF0ZSIsIChldmVudCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXZlbnQuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgbGV0IHJlbW92ZUV2ZW50QnRuID0gdGhpcy5nZXRFbGVtZW50QnlJZCgicmVtb3ZlRXZlbnRMaXN0ZW5lciIpOwogICAgaWYgKHJlbW92ZUV2ZW50QnRuKSB7CiAgICAgIHJlbW92ZUV2ZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coInJlbW92ZWQgbGlzdGVuZXIgZm9yIG90aGVyIHRlbXBsYXRlcyIpOwogICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiQ3VzdG9tTm90aWZpY2F0aW9uTmFtZUZvclRlbXBsYXRlIik7CiAgICAgIH0pOwogICAgfQogICAgbGV0IGFkZE5hdGl2ZUV2ZW50QnRuID0gdGhpcy5nZXRFbGVtZW50QnlJZCgiYWRkTmF0aXZlTGlzdGVuZXIiKTsKICAgIGlmIChhZGROYXRpdmVFdmVudEJ0bikgewogICAgICBhZGROYXRpdmVFdmVudEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChldmVudCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJhZGRlZCBsaXN0ZW5lciBmb3IgbmF0aXZlIGNvZGUiKTsKICAgICAgICB0aGlzLmFkZE5hdGl2ZUV2ZW50TGlzdGVuZXIoCiAgICAgICAgICAiQ3VzdG9tTm90aWZpY2F0aW9uTmFtZUZvck5hdGl2ZSIsCiAgICAgICAgICAoZXZlbnQpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfSk7CiAgICB9CiAgICBsZXQgcmVtb3ZlTmF0aXZlRXZlbnRCdG4gPSB0aGlzLmdldEVsZW1lbnRCeUlkKCJyZW1vdmVOYXRpdmVMaXN0ZW5lciIpOwogICAgaWYgKHJlbW92ZU5hdGl2ZUV2ZW50QnRuKSB7CiAgICAgIHJlbW92ZU5hdGl2ZUV2ZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coInJlbW92ZWQgbGlzdGVuZXIgZm9yIG5hdGl2ZSBjb2RlIik7CiAgICAgICAgdGhpcy5yZW1vdmVOYXRpdmVFdmVudExpc3RlbmVyKCJDdXN0b21Ob3RpZmljYXRpb25OYW1lRm9yTmF0aXZlIik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgcmVnaXN0ZXJTdG9yYWdlQVBJOiBmdW5jdGlvbiAoKSB7CiAgICBsZXQgZ2V0U3RvcmFnZSA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoImdldFN0b3JhZ2UiKTsKICAgIGlmIChnZXRTdG9yYWdlKSB7CiAgICAgIGdldFN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBsZXQgdmFsdWUgPSBhd2FpdCBnYWlheC5nZXRTdG9yYWdlKCJrZXkxIik7CiAgICAgICAgY29uc29sZS5sb2codmFsdWUpOwogICAgICB9KTsKICAgIH0KCiAgICBsZXQgc2V0U3RvcmFnZSA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoInNldFN0b3JhZ2UiKTsKICAgIGlmIChzZXRTdG9yYWdlKSB7CiAgICAgIHNldFN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBhd2FpdCBnYWlheC5zZXRTdG9yYWdlKCJrZXkxIiwgewogICAgICAgICAgdmFsdWUxOiAidmFsdWU6IHRoaXMgaXMgYSB0ZXN0IG1ldGhvZCBmb3IgZ2V0U3RvcmFnZSgpIiwKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgbGV0IHJlbW92ZVN0b3JhZ2UgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCJyZW1vdmVTdG9yYWdlIik7CiAgICBpZiAocmVtb3ZlU3RvcmFnZSkgewogICAgICByZW1vdmVTdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgKGV2ZW50KSA9PiB7CiAgICAgICAgYXdhaXQgZ2FpYXgucmVtb3ZlU3RvcmFnZSgia2V5MSIpOwogICAgICB9KTsKICAgIH0KICB9LAogIHJlZ2lzdGVyVGlwc0FQSTogZnVuY3Rpb24gKCkgewogICAgbGV0IHNob3dBbGVydCA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoInNob3dBbGVydCIpOwogICAgaWYgKHNob3dBbGVydCkgewogICAgICBzaG93QWxlcnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBnYWlheC5zaG93QWxlcnQoCiAgICAgICAgICB7IHRpdGxlOiAi5oiR5piv5qCH6aKYIiwgbWVzc2FnZTogIuaIkeaYr+a2iOaBryIgfSwKICAgICAgICAgIChyZXN1bHQpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICApOwogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLnJlZ2lzdGVyQ3VzdG9tQVBJKCJzaG93RGlhbG9nIiwgMTIzNDU2KTsKCiAgICBsZXQgc2hvd1RvYXN0ID0gdGhpcy5nZXRFbGVtZW50QnlJZCgic2hvd1RvYXN0Iik7CiAgICBpZiAoc2hvd1RvYXN0KSB7CiAgICAgIHNob3dUb2FzdC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jIChldmVudCkgPT4gewogICAgICAgIGdhaWF4LnNob3dUb2FzdCh7IHRpdGxlOiAi5oiR5piv5qCH6aKYIiwgZHVyYXRpb246IDUgfSwgKCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coIlNob3dUb2FzdCIpOwogICAgICAgIH0pOwoKICAgICAgICBnYWlheC5zaG93VG9hc3QoeyB0aXRsZTogIuaIkeaYr+agh+mimDQiIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIHJlZ2lzdGVyRGV2aWNlQVBJOiBmdW5jdGlvbiAoKSB7CiAgICBsZXQgZ2V0U3lzdGVtSW5mbyA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoImdldFN5c3RlbUluZm8iKTsKICAgIGlmIChnZXRTeXN0ZW1JbmZvKSB7CiAgICAgIGdldFN5c3RlbUluZm8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBsZXQgc3lzdGVtSW5mbyA9IGdhaWF4LmdldFN5c3RlbUluZm8oKTsKICAgICAgICBjb25zb2xlLmxvZyhzeXN0ZW1JbmZvKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICByZWdpc3RlclRpbWVyQVBJOiBmdW5jdGlvbiAoKSB7CiAgICBsZXQgc2V0SW50ZXJ2YWwxID0gdGhpcy5nZXRFbGVtZW50QnlJZCgic2V0SW50ZXJ2YWwiKTsKICAgIGlmIChzZXRJbnRlcnZhbDEpIHsKICAgICAgc2V0SW50ZXJ2YWwxLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgKGV2ZW50KSA9PiB7CiAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICBsZXQgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGNvdW50KyspOwogICAgICAgICAgY29uc29sZS5sb2coaW50ZXJ2YWxJZCk7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgICAgIH0sIDEwMDApOwogICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnRlcnZhbElkIH0sICgpID0+IHt9KTsKICAgICAgfSk7CiAgICB9CgogICAgbGV0IGNsZWFySW50ZXJ2YWwxID0gdGhpcy5nZXRFbGVtZW50QnlJZCgiY2xlYXJJbnRlcnZhbCIpOwogICAgaWYgKGNsZWFySW50ZXJ2YWwxKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwxLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgKGV2ZW50KSA9PiB7CiAgICAgICAgbGV0IHsgaW50ZXJ2YWxJZCB9ID0gdGhpcy5zdGF0ZTsKICAgICAgICBpZiAoaW50ZXJ2YWxJZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGDlrprml7blt7LmuIXpmaQgPSAke2ludGVydmFsSWR9YCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBsZXQgc2V0VGltZW91dDEgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCJzZXRUaW1lb3V0Iik7CiAgICBpZiAoc2V0VGltZW91dDEpIHsKICAgICAgc2V0VGltZW91dDEuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBsZXQgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygi5bu25pe2Iik7CiAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRpbWVvdXRJZCB9KTsKICAgICAgfSk7CiAgICB9CgogICAgbGV0IGNsZWFyVGltZW91dDEgPSB0aGlzLmdldEVsZW1lbnRCeUlkKCJjbGVhclRpbWVvdXQiKTsKICAgIGlmIChjbGVhclRpbWVvdXQxKSB7CiAgICAgIGNsZWFyVGltZW91dDEuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBsZXQgeyB0aW1lb3V0SWQgfSA9IHRoaXMuc3RhdGU7CiAgICAgICAgaWYgKHRpbWVvdXRJZCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhg5a6a5pe25bey5riF6ZmkID0gJHt0aW1lb3V0SWR9YCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIHJlZ2lzdGVyQ3VzdG9tQVBJOiBmdW5jdGlvbiAobmFtZSwgZGlhbG9nSWRlbnRpZmllcklkKSB7CiAgICBsZXQgc2hvd0N1c3RvbURpYWxvZyA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQobmFtZSk7CiAgICBpZiAoc2hvd0N1c3RvbURpYWxvZykgewogICAgICBzaG93Q3VzdG9tRGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgKGV2ZW50KSA9PiB7CiAgICAgICAgZ2FpYXguc2hvd0N1c3RvbURpYWxvZygKICAgICAgICAgIHsKICAgICAgICAgICAgaWRlbnRpZmllcklkOiBkaWFsb2dJZGVudGlmaWVySWQgKyAiXyIsCiAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICJ5ay12aXAtdGFzay1pdGVtMiIsCiAgICAgICAgICAgIGJpeklkOiAieWstdmlwIiwKICAgICAgICAgICAgbWVhc3VyZVNpemU6IHsKICAgICAgICAgICAgICB3aWR0aDogMzAwLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0ZW1wbGF0ZURhdGE6IHsKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBidXR0b246IHsKICAgICAgICAgICAgICAgICAgdW5maW5pc2hUZXh0OiAi5Y675a6M5oiQIiwKICAgICAgICAgICAgICAgICAgZmluaXNoVW5Bd2FyZFRleHQ6ICLpooblj5YiLAogICAgICAgICAgICAgICAgICBhd2FyZFRleHQ6ICLnu6fnu63otK3kubAiLAogICAgICAgICAgICAgICAgICBhY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICByZXBvcnQ6IHsKICAgICAgICAgICAgICAgICAgICAgIHNjbUFCOiAiMjAxNDA3MTkubWFudWFsIiwKICAgICAgICAgICAgICAgICAgICAgIHRyYWNrSW5mbzogewogICAgICAgICAgICAgICAgICAgICAgICBkcmF3ZXJpZDogIjI0NjM0IiwKICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVydGltZTogMTYzMjQ3NTc0MDUwNywKICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3RpdGxlOiAi5Lmw5Lya5ZGY6YCB5oiQ6ZW/5YC8IiwKICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50X2lkOiAiR1JPVVRIX1RBU0siLAogICAgICAgICAgICAgICAgICAgICAgICBjbXNfcmVxX2lkOiAiMjEwNDJhM2QxNjMyNDc1NzQwNTA0MzU4OWU5Yjc3IiwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbWlkOiA1ODE1MjcsCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgc2NtQzogIjI0NjM0IiwKICAgICAgICAgICAgICAgICAgICAgIHNwbUM6ICJkcmF3ZXIxIiwKICAgICAgICAgICAgICAgICAgICAgIHBhZ2VOYW1lOiAicGFnZV9ndWlkZW5vZGVfVklQX0dST1VUSCIsCiAgICAgICAgICAgICAgICAgICAgICBzcG1EOiAiemoxXzEiLAogICAgICAgICAgICAgICAgICAgICAgc2NtRDogInVybF9odHRwczovL2FjdGl2aXR5LnlvdWt1LmNvbS9hcHAveWt2aXBfcmF4L3lrLXZpcC1jYXNoaWVyLXBsYXRvL3BhZ2VzL2luZGV4P3doX3dlZXg9dHJ1ZSZoaWRlTmF2aWdhdG9yQmFyPXRydWUmc2NlbmVUeXBlPWZ1bGxTY3JlZW4maDVwYXJhbXM9JTdCJTIycGFnZUtleSUyMiUzQSUyMlNUQU5EQVJEUkVOREVSX1lPVUtVJTIyJTdEIiwKICAgICAgICAgICAgICAgICAgICAgIHNwbUFCOiAiYTJoOGQuVklQX0dST1VUSCIsCiAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJKVU1QX1RPX1VSTCIsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9hY3Rpdml0eS55b3VrdS5jb20vYXBwL3lrdmlwX3JheC95ay12aXAtY2FzaGllci1wbGF0by9wYWdlcy9pbmRleD93aF93ZWV4PXRydWUmaGlkZU5hdmlnYXRvckJhcj10cnVlJnNjZW5lVHlwZT1mdWxsU2NyZWVuJmg1cGFyYW1zPSU3QiUyMnBhZ2VLZXklMjIlM0ElMjJTVEFOREFSRFJFTkRFUl9ZT1VLVSUyMiU3RCIsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWN0SWQ6IDEwODIxLAogICAgICAgICAgICAgICAgdGFza0lkOiAxMjg5MywKICAgICAgICAgICAgICAgIHRhc2tJY29uOgogICAgICAgICAgICAgICAgICAiaHR0cDovL3lraW1nLmFsaWNkbi5jb20vZGV2ZWxvcC9pbWFnZS8yMDIwLTExLTE4LzBhZjAwMjIyZDEwNDFhOTM2YzdmNjZlODdiNGE4Y2RjLnBuZyIsCiAgICAgICAgICAgICAgICBncm91dGhUZXh0OiAi6Iez5bCRKzgwMOaIkOmVv+WAvCIsCiAgICAgICAgICAgICAgICB0YXNrTmFtZTogIuS5sOS8muWRmOWKqeaIkOmVvyIsCiAgICAgICAgICAgICAgICB1ZG91TXVsdGk6ICIyLjIiLAogICAgICAgICAgICAgICAgbmVlZFJlcG9ydDogMSwKICAgICAgICAgICAgICAgIGdyb3VwSWQ6IDEwNDU5LAogICAgICAgICAgICAgICAgIkBlbnRyeVBhdGgiOiAiNTgxNTI3LDkwMjg5LDAiLAogICAgICAgICAgICAgICAgdGFza1N0YXRlOiAxLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgKCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygic2hvd0N1c3RvbURpYWxvZyIpOwogICAgICAgICAgfQogICAgICAgICk7CgogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZ2FpYXguZGlzbWlzc0N1c3RvbURpYWxvZyhkaWFsb2dJZGVudGlmaWVySWQpOwogICAgICAgIH0sIDUwMDApOwogICAgICB9KTsKICAgIH0KICB9LAp9KTsKUEsBAhQACgAAAAAApm37VkGpLzDQHgAA0B4AAAgAAAAAAAAAAAAAAAAAAAAAAGluZGV4LmpzUEsFBgAAAAABAAEANgAAAPYeAAAAAA==
//------ts end------

var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Component({state:{},onShow:function(){},onReady:function(){this.registerStorageAPI(),this.registerTipsAPI(),this.registerTimerAPI(),this.registerMessageAPI()},onHide:function(){console.log("js-api-demo onHiden")},onReuse:function(){},onDestroy:function(){console.log("js-api-demo onDistory")},registerMessageAPI:function(){var e=this,t=this.getElementById("addEventListener");t&&t.addEventListener("click",(function(t){console.log("added listener for other templates"),e.addEventListener("CustomNotificationNameForTemplate",(function(e){console.log(e.data)}))}));var n=this.getElementById("removeEventListener");n&&n.addEventListener("click",(function(t){console.log("removed listener for other templates"),e.removeEventListener("CustomNotificationNameForTemplate")}));var i=this.getElementById("addNativeListener");i&&i.addEventListener("click",(function(t){console.log("added listener for native code"),e.addNativeEventListener("CustomNotificationNameForNative",(function(e){console.log(e.data)}))}));var r=this.getElementById("removeNativeListener");r&&r.addEventListener("click",(function(t){console.log("removed listener for native code"),e.removeNativeEventListener("CustomNotificationNameForNative")}))},registerStorageAPI:function(){var e=this,t=this.getElementById("getStorage");t&&t.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,gaiax.getStorage("key1")];case 1:return e=t.sent(),console.log(e),[2]}}))}))}));var n=this.getElementById("setStorage");n&&n.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,gaiax.setStorage("key1",{value1:"value: this is a test method for getStorage()"})];case 1:return e.sent(),[2]}}))}))}));var i=this.getElementById("removeStorage");i&&i.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,gaiax.removeStorage("key1")];case 1:return e.sent(),[2]}}))}))}))},registerTipsAPI:function(){var e=this,t=this.getElementById("showAlert");t&&t.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){return gaiax.showAlert({title:"我是标题",message:"我是消息"},(function(e){console.log(e)})),[2]}))}))})),this.registerCustomAPI("showDialog",123456);var n=this.getElementById("showToast");n&&n.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(e){return gaiax.showToast({title:"我是标题",duration:5},(function(){console.log("ShowToast")})),gaiax.showToast({title:"我是标题4"}),[2]}))}))}))},registerDeviceAPI:function(){var e=this,t=this.getElementById("getSystemInfo");t&&t.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(t){return e=gaiax.getSystemInfo(),console.log(e),[2]}))}))}))},registerTimerAPI:function(){var e=this,t=this.getElementById("setInterval");t&&t.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){return e=0,t=setInterval((function(){console.log(e++),console.log(t),clearInterval(t)}),1e3),this.setState({intervalId:t},(function(){})),[2]}))}))}));var n=this.getElementById("clearInterval");n&&n.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(t){return(e=this.state.intervalId)&&(clearInterval(e),console.log("定时已清除 = ".concat(e))),[2]}))}))}));var i=this.getElementById("setTimeout");i&&i.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(t){return e=setTimeout((function(){console.log("延时")}),5e3),this.setState({timeoutId:e}),[2]}))}))}));var r=this.getElementById("clearTimeout");r&&r.addEventListener("click",(function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(t){return(e=this.state.timeoutId)&&(clearTimeout(e),console.log("定时已清除 = ".concat(e))),[2]}))}))}))},registerCustomAPI:function(e,t){var n=this,i=this.getElementById(e);i&&i.addEventListener("click",(function(e){return __awaiter(n,void 0,void 0,(function(){return __generator(this,(function(e){return gaiax.showCustomDialog({identifierId:t+"_",templateId:"yk-vip-task-item2",bizId:"yk-vip",measureSize:{width:300},templateData:{data:{button:{unfinishText:"去完成",finishUnAwardText:"领取",awardText:"继续购买",action:{report:{scmAB:"20140719.manual",trackInfo:{drawerid:"24634",servertime:1632475740507,object_title:"买会员送成长值",component_id:"GROUTH_TASK",cms_req_id:"21042a3d16324757405043589e9b77",itemid:581527},scmC:"24634",spmC:"drawer1",pageName:"page_guidenode_VIP_GROUTH",spmD:"zj1_1",scmD:"url_https://activity.youku.com/app/ykvip_rax/yk-vip-cashier-plato/pages/index?wh_weex=true&hideNavigatorBar=true&sceneType=fullScreen&h5params=%7B%22pageKey%22%3A%22STANDARDRENDER_YOUKU%22%7D",spmAB:"a2h8d.VIP_GROUTH",index:1},type:"JUMP_TO_URL",value:"https://activity.youku.com/app/ykvip_rax/yk-vip-cashier-plato/pages/index?wh_weex=true&hideNavigatorBar=true&sceneType=fullScreen&h5params=%7B%22pageKey%22%3A%22STANDARDRENDER_YOUKU%22%7D"}},actId:10821,taskId:12893,taskIcon:"http://ykimg.alicdn.com/develop/image/2020-11-18/0af00222d1041a936c7f66e87b4a8cdc.png",grouthText:"至少+800成长值",taskName:"买会员助成长",udouMulti:"2.2",needReport:1,groupId:10459,"@entryPath":"581527,90289,0",taskState:1}}},(function(){console.log("showCustomDialog")})),setTimeout((function(){gaiax.dismissCustomDialog(t)}),5e3),[2]}))}))}))}});